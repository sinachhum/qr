<!DOCTYPE html>
<html>
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
     <script src="https://code.jquery.com/jquery-1.9.1.min.js"></script>

<script>
  $( document ).ready(function() { 
 if ('canShare' in navigator) {
  const share = async function(shareimg, sharetitle, sharetext) {
    try {
      const response = await fetch('https://fastly.picsum.photos/id/116/200/300.jpg?hmac=uPAnc-n8DQQ64MK4BNdh5H0jZftgEJ1sWpFPDBHni5o');
      const blob = await response.blob();
      const file = new File([blob], 'rick.jpg', {type: blob.type});

      await navigator.share({ 
        title: sharetitle,
        text: sharetext,
        files: [file]
      });
    } catch (err) {
      console.log(err.name, err.message);
    }
  };
  
  document.querySelector('button').addEventListener('click', () => {
    share(
      'https://upload.wikimedia.org/wikipedia/commons/thumb/4/41/Rick_Astley_Dallas.jpg/267px-Rick_Astley_Dallas.jpg', 
      'Rick Astley',
      'Never gonna give you up!'
    );
  });  
}
    }); 
 
  
</script>
</head>
<body>
<p><button>Share MDN!</button></p>
<p class="result"></p>
</body>
</html>
