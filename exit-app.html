<!DOCTYPE html>
<html>
<head>
     <meta name="viewport" content="width=device-width, initial-scale=1.0">

<script src="https://checkout.payway.com.kh/plugins/checkout2-0.js"></script>
<script>

  const a = [];
	a[1]=1;
window.addEventListener("popstate", (event) => {
	AbaPayway.miniAppExit(); 
});


     
const req = {
    merchantName: 'Garden City Water Park',
    barTitle: {
        title: 'Garden City Water Park',
        bgColor: '#246DB6',
        color: '#ffffff',
        safeAreaColor: '#ffffff'
    }
}

const profile = {
    callback: function (res) {
        console.log(res) 
    }
}

var interval = setInterval(function () {
    try {
        AbaPayway.miniApp(req);
        AbaPayway.miniAppGetProfile(profile);
        clearInterval(interval);
    } catch (e) {
        AbaPayway.miniApp(req);
        AbaPayway.miniAppGetProfile(profile);
    }
}, 100);
     
  
</script>
</head>
<body>
     <br/>
     <br/>
     <br/>
 <p id="replace-me">Open</p>

</body>
</html>
